<!DOCTYPE html>
<html lang="en">
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link ret="stylesheet" href="../static/default.css">
</head>
<body>
    <div>
        <h1>Sogne</h1>
    </div>
    <div>
        <table class="main_table" th:if="${parishes.size()>0}">
            <tr th:each="parish : ${parishes}">
                <th><input type="checkbox"></th>
                <th th:text="'Lukkede ned:' + ${parish.getContaminationStart()}"></th>
                <th th:text="${parish.getName()}"></th>
                <th th:text="${parish.getCommune().getName()}"></th>
                <th>
                        <button>
                            <i>Opdater</i>
                        </button>
                </th>
                <th><button>Fjern</button></th>
            </tr>
            <th><input value="TilfÃ¸j" type="button" onclick="buttonclickhandler()"></th>
        </table>
    </div>
    <script>
        function buttonclickhandler() {
            const request = new XMLHttpRequest();
            request.open("GET", "http://localhost:8080/parishes/getAll");
            request.onreadystatechange = function() {
                if ((request.readyState===4) && (request.status===200)) {
                    alert(request.responseText)
                    console.log(request);
                    document.writeln(request.responseText)
                }
            }
            request.send();
        }
    </script>
</body>
</html>